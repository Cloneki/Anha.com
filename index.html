<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. Anha - Pippa's Universe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Space+Grotesk:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --gold-primary: #FFD700;
            --gold-dark: #B8860B;
            --rose-gold: #B76E79;
            --copper: #B87333;
            --silver: #E0E0E0;
        }
        
        body {
            font-family: 'Space Grotesk', sans-serif;
            background:
                radial-gradient(circle at 15% 20%, rgba(255, 215, 0, 0.12), transparent 38%),
                radial-gradient(circle at 85% 10%, rgba(183, 110, 121, 0.10), transparent 35%),
                radial-gradient(circle at 50% 100%, rgba(255, 215, 0, 0.06), transparent 48%),
                linear-gradient(180deg, #090807 0%, #060505 42%, #030303 100%);
            color: #fff;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            inset: 0;
            z-index: 1;
            pointer-events: none;
            background:
                repeating-linear-gradient(
                    45deg,
                    rgba(255,255,255,0.01) 0,
                    rgba(255,255,255,0.01) 1px,
                    transparent 1px,
                    transparent 8px
                );
            mix-blend-mode: soft-light;
            opacity: 0.26;
        }
        
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        /* Unified Background Canvas */
        #universe-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 0;
        }
        
        /* Cinematic Sections */
        .cinematic-section {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        
        .section-content {
            width: 100%;
            max-width: 1400px;
            padding: 0 4rem;
            position: relative;
            z-index: 20;
        }
        
        /* Glassmorphism Cards */
        .cinematic-card {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 215, 0, 0.2);
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.8),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .cinematic-card::before {
            content: '';
            position: absolute;
            top: -60%;
            left: -120%;
            width: 75%;
            height: 210%;
            transform: rotate(16deg);
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 243, 201, 0.15) 50%,
                transparent 100%
            );
            transition: left 0.85s ease;
            pointer-events: none;
        }
        
        .cinematic-card:hover {
            border-color: rgba(255, 215, 0, 0.5);
            box-shadow: 
                0 30px 60px rgba(255, 215, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transform: translateY(-10px);
        }

        .cinematic-card:hover::before {
            left: 140%;
        }
        
        /* Metallic Text Effects */
        .gold-text {
            background: linear-gradient(135deg, #FFD700 0%, #FFF8DC 25%, #FFD700 50%, #DAA520 75%, #FFD700 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shine 3s linear infinite;
        }
        
        .rose-text {
            background: linear-gradient(135deg, #B76E79 0%, #F4C2C2 25%, #B76E79 50%, #CD919E 75%, #B76E79 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shine 3s linear infinite;
        }
        
        .silver-text {
            background: linear-gradient(135deg, #C0C0C0 0%, #FFFFFF 25%, #C0C0C0 50%, #A0A0A0 75%, #C0C0C0 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shine 3s linear infinite;
        }
        
        @keyframes shine {
            to { background-position: 200% center; }
        }
        
        /* Loading Screen */
        #loader {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 1s ease;
        }
        
        .loader-bangle {
            width: 120px;
            height: 120px;
            border: 4px solid transparent;
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            animation: spin 2s linear infinite;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Navigation */
        .nav-cinematic {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 2rem 4rem;
            background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
            opacity: 0;
            transform: translateY(-100%);
            transition: all 0.8s ease;
        }
        
        .nav-cinematic.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .nav-link {
            position: relative;
            color: rgba(255,255,255,0.7);
            transition: all 0.3s;
            font-size: 0.85rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
        }
        
        .nav-link:hover {
            color: #FFD700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 1px;
            background: linear-gradient(90deg, #FFD700, #FF69B4);
            transition: width 0.3s;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        /* Scroll Progress */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 2px;
            background: linear-gradient(90deg, #FFD700, #B76E79, #FFD700);
            z-index: 10001;
            transform-origin: left;
            transform: scaleX(0);
        }
        
        /* Text Reveal */
        .reveal-up {
            opacity: 1;
            transform: translateY(0);
            filter: blur(0);
        }

        .js-ready .reveal-up {
            opacity: 0;
            transform: translateY(60px);
            filter: blur(10px);
        }
        
        /* Floating Animation */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        /* Heart Beat */
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .beating {
            animation: heartbeat 2s ease-in-out infinite;
        }
        
        /* Custom Cursor */
        .cursor-gold {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid #FFD700;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.2s;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .cursor-dot {
            position: fixed;
            width: 6px;
            height: 6px;
            background: #FFD700;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
        }

        .cursor-heart {
            position: fixed;
            pointer-events: none;
            z-index: 9998;
            color: #ff5c7a;
            text-shadow: 0 0 12px rgba(255, 92, 122, 0.8);
            transform-origin: center;
            animation: cardioTrail 0.95s ease-out forwards;
            will-change: transform, opacity;
        }

        @keyframes cardioTrail {
            0% { opacity: 0.95; transform: translate(-50%, -50%) scale(0.6) rotate(0deg); }
            45% { opacity: 0.9; transform: translate(-50%, -72%) scale(1) rotate(8deg); }
            100% { opacity: 0; transform: translate(-50%, -125%) scale(0.35) rotate(-10deg); }
        }
        
        /* Section Transitions */
        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,215,0,0.3), transparent);
            margin: 0 auto;
            width: 50%;
        }
        
        /* 3D Container */
        .scene-3d {
            width: 100%;
            height: 500px;
            position: relative;
            border-radius: 1.25rem;
            background:
                radial-gradient(circle at 50% 28%, rgba(255,255,255,0.08), rgba(0,0,0,0.08) 50%, transparent 75%),
                linear-gradient(180deg, rgba(255, 215, 0, 0.04), rgba(0,0,0,0.2));
            box-shadow: inset 0 -28px 68px rgba(0,0,0,0.35), 0 10px 24px rgba(0,0,0,0.32);
        }

        /* Bangle photos */
        .bangle-photo {
            width: 100%;
            height: 220px;
            object-fit: cover;
            border-radius: 1rem;
            border: 1px solid rgba(255, 215, 0, 0.2);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
            transition: transform 0.6s cubic-bezier(0.4,0,0.2,1);
        }

        .bangles-theme {
            position: relative;
        }

        .bangles-theme::before {
            content: '';
            position: absolute;
            inset: 10% 5% 8%;
            border: 1px solid rgba(255, 215, 0, 0.14);
            border-radius: 2rem;
            background: radial-gradient(circle at 50% 18%, rgba(255, 235, 180, 0.08), transparent 45%);
            pointer-events: none;
        }

        .bangles-grid {
            position: relative;
            z-index: 1;
        }

        .bangles-layout {
            display: grid;
            grid-template-columns: repeat(12, minmax(0, 1fr));
            gap: 1.25rem;
        }

        .bangles-main {
            grid-column: span 7 / span 7;
            min-height: 100%;
        }

        .bangles-side {
            grid-column: span 5 / span 5;
            display: grid;
            gap: 1.25rem;
        }

        .bangle-card {
            background:
                linear-gradient(160deg, rgba(255, 215, 120, 0.10), rgba(255, 255, 255, 0.02)),
                rgba(0, 0, 0, 0.45);
        }

        .bangles-concept .section-content {
            position: relative;
        }

        .bangle-runway {
            position: relative;
            height: 90px;
            max-width: 900px;
            margin: 0 auto;
            border-radius: 999px;
            border: 1px solid rgba(255, 215, 0, 0.22);
            background: linear-gradient(180deg, rgba(255, 215, 0, 0.08), rgba(255, 255, 255, 0.01));
            overflow: hidden;
        }

        .bangle-runway-track {
            position: absolute;
            left: 4%;
            right: 4%;
            top: 50%;
            height: 2px;
            transform: translateY(-50%);
            background: linear-gradient(90deg, transparent, rgba(255, 225, 150, 0.8), transparent);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .bangle-tags {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: space-around;
            text-transform: uppercase;
            letter-spacing: 0.25em;
            font-size: 0.68rem;
            color: rgba(255, 231, 188, 0.9);
            animation: runwayDrift 8s ease-in-out infinite;
        }

        .bangle-tags span {
            padding: 0.35rem 0.8rem;
            border: 1px solid rgba(255, 215, 0, 0.26);
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.35);
            backdrop-filter: blur(6px);
        }

        @keyframes runwayDrift {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(8px); }
        }

        .bangles-gallery {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 1.3rem;
        }

        .bangle-panel {
            border: 1px solid rgba(255, 215, 0, 0.24);
            background:
                radial-gradient(circle at 85% 10%, rgba(255, 239, 184, 0.16), transparent 38%),
                linear-gradient(170deg, rgba(255, 205, 110, 0.12), rgba(255, 255, 255, 0.02)),
                rgba(0, 0, 0, 0.45);
            position: relative;
            overflow: hidden;
        }

        .bangle-panel::after {
            content: '';
            position: absolute;
            left: 14%;
            right: 14%;
            bottom: 1rem;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.42), transparent);
        }

        .bangle-panel-main {
            transform: scale(0.98);
        }

        .bangle-photo-shell {
            position: relative;
            border-radius: 1rem;
            padding: 0.35rem;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.22), rgba(255, 255, 255, 0.04));
            margin-bottom: 1.1rem;
        }

        .bangle-ring-badge {
            width: 92px;
            height: 92px;
            margin: 0 auto 0.9rem;
            border-radius: 999px;
            border: 1px solid rgba(255, 215, 0, 0.45);
            box-shadow:
                inset 0 0 0 8px rgba(255, 215, 0, 0.07),
                0 0 20px rgba(255, 215, 0, 0.16);
        }

        .bangle-quote {
            border-color: rgba(255, 215, 0, 0.3);
            background: linear-gradient(160deg, rgba(255, 215, 0, 0.09), rgba(255, 255, 255, 0.02));
        }

        .bangle-orbit {
            width: 110px;
            height: 110px;
            margin: 0 auto 1.25rem;
            border-radius: 999px;
            border: 1px solid rgba(255, 215, 0, 0.35);
            box-shadow: inset 0 0 0 10px rgba(255, 215, 0, 0.06), 0 0 24px rgba(255, 215, 0, 0.2);
            animation: orbitPulse 4s ease-in-out infinite;
        }

        @keyframes orbitPulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
        }

        .date-timeline {
            position: relative;
        }

        .date-timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 1px;
            transform: translateX(-50%);
            background: linear-gradient(180deg, transparent, rgba(255,215,0,0.35), transparent);
        }

        .date-dot {
            width: 12px;
            height: 12px;
            border-radius: 999px;
            background: #FFD700;
            box-shadow: 0 0 18px rgba(255, 215, 0, 0.6);
        }

        .dates-theme {
            position: relative;
        }

        .dates-theme::before {
            content: '';
            position: absolute;
            inset: 12% 4% 12%;
            border-radius: 2rem;
            border: 1px solid rgba(255, 215, 0, 0.15);
            background:
                radial-gradient(circle at 25% 20%, rgba(183, 110, 121, 0.12), transparent 45%),
                radial-gradient(circle at 75% 75%, rgba(255, 215, 0, 0.10), transparent 45%);
            pointer-events: none;
        }

        .date-card {
            background:
                linear-gradient(170deg, rgba(255, 219, 140, 0.12), rgba(255, 255, 255, 0.03)),
                rgba(0, 0, 0, 0.45);
        }

        .dates-concept .section-content {
            position: relative;
        }

        .dates-constellation {
            position: relative;
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 1.35rem;
            align-items: stretch;
            min-height: auto;
        }

        .dates-starline {
            position: absolute;
            inset: 0;
            pointer-events: none;
            background:
                radial-gradient(circle at 20% 30%, rgba(255,255,255,0.1) 0 2px, transparent 2px),
                radial-gradient(circle at 50% 50%, rgba(255,255,255,0.09) 0 2px, transparent 2px),
                radial-gradient(circle at 80% 40%, rgba(255,255,255,0.1) 0 2px, transparent 2px),
                linear-gradient(145deg, transparent 48%, rgba(255,215,0,0.28) 50%, transparent 52%),
                linear-gradient(35deg, transparent 48%, rgba(183,110,121,0.22) 50%, transparent 52%);
            opacity: 0.6;
        }

        .date-node {
            z-index: 2;
            position: relative;
        }

        .date-node-left {
            transform: translateY(-10px);
        }

        .date-node-right {
            transform: translateY(10px);
        }

        .date-node-pin {
            position: absolute;
            top: -10px;
            left: 50%;
            width: 14px;
            height: 14px;
            border-radius: 999px;
            transform: translateX(-50%);
            background: #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
        }

        .date-image-shell {
            border-radius: 1.2rem;
            padding: 0.35rem;
            background: linear-gradient(135deg, rgba(255, 203, 113, 0.22), rgba(255,255,255,0.04));
            margin-bottom: 1rem;
        }

        .date-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 1rem;
            border: 1px solid rgba(255, 215, 0, 0.22);
        }

        .date-special {
            display: flex;
            flex-direction: column;
            justify-content: center;
            border: 1px solid rgba(255, 215, 0, 0.28);
            background:
                radial-gradient(circle at 50% 20%, rgba(255, 226, 153, 0.16), transparent 44%),
                linear-gradient(165deg, rgba(255, 215, 120, 0.11), rgba(255, 255, 255, 0.03)),
                rgba(0, 0, 0, 0.47);
        }

        .date-special-orbit {
            width: 120px;
            height: 120px;
            margin: 0 auto 1rem;
            border-radius: 999px;
            border: 1px solid rgba(255, 215, 0, 0.4);
            box-shadow: inset 0 0 0 12px rgba(255, 215, 0, 0.08), 0 0 30px rgba(255, 215, 0, 0.2);
            position: relative;
            animation: orbitPulse 4s ease-in-out infinite;
        }

        .date-special-orbit::before {
            content: '';
            position: absolute;
            width: 14px;
            height: 14px;
            border-radius: 999px;
            background: rgba(255, 232, 176, 0.95);
            top: 14px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 18px rgba(255, 215, 0, 0.7);
        }

        .about-theme {
            position: relative;
        }

        .about-theme::before {
            content: '';
            position: absolute;
            inset: 10% 4% 10%;
            border-radius: 2rem;
            border: 1px solid rgba(139, 233, 255, 0.22);
            background:
                radial-gradient(circle at 18% 22%, rgba(110, 226, 255, 0.16), transparent 40%),
                radial-gradient(circle at 84% 78%, rgba(255, 215, 120, 0.12), transparent 42%);
            pointer-events: none;
        }

        .about-theme::after {
            content: '';
            position: absolute;
            inset: 0;
            pointer-events: none;
            background:
                repeating-linear-gradient(120deg, rgba(126, 219, 245, 0.05) 0 1px, transparent 1px 12px);
            opacity: 0.25;
        }

        .about-layout {
            position: relative;
            z-index: 2;
            display: grid;
            grid-template-columns: 0.95fr 1.05fr;
            gap: 1.6rem;
            align-items: center;
        }

        .about-copy {
            position: relative;
            padding: 1rem 0.25rem;
        }

        .about-copy::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0.5rem;
            bottom: 0.5rem;
            width: 2px;
            background: linear-gradient(180deg, transparent, rgba(142, 235, 255, 0.8), transparent);
        }

        .about-signal {
            color: #b8edf8;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            font-size: 0.78rem;
            margin-left: 1rem;
            margin-bottom: 0.6rem;
        }

        .about-copy h3,
        .about-copy p {
            margin-left: 1rem;
        }

        .about-copy h3 {
            color: #d8f6ff;
        }

        .neuro-ribbon {
            height: 36px;
            border-radius: 999px;
            border: 1px solid rgba(121, 228, 252, 0.32);
            margin: 1rem 0 0 1rem;
            background:
                linear-gradient(90deg, transparent 0%, rgba(121, 228, 252, 0.95) 35%, transparent 70%),
                radial-gradient(circle at 50% 50%, rgba(255, 218, 132, 0.2), transparent 68%);
            background-size: 220% 100%, 100% 100%;
            animation: neuroPulse 2.5s linear infinite;
        }

        @keyframes neuroPulse {
            from { background-position: 220% 0, 0 0; }
            to { background-position: -20% 0, 0 0; }
        }

        .about-tags {
            margin: 1rem 0 0 1rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .about-tags span {
            border: 1px solid rgba(131, 230, 251, 0.35);
            border-radius: 999px;
            padding: 0.35rem 0.8rem;
            font-size: 0.66rem;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            color: rgba(197, 241, 255, 0.95);
            background: rgba(0, 15, 20, 0.45);
        }

        .about-scene-wrap {
            position: relative;
        }

        .about-scene {
            min-height: 420px;
            border: 1px solid rgba(122, 228, 252, 0.32);
            background:
                radial-gradient(circle at 80% 20%, rgba(147, 239, 255, 0.2), transparent 36%),
                radial-gradient(circle at 18% 84%, rgba(255, 219, 129, 0.14), transparent 42%),
                linear-gradient(170deg, rgba(104, 220, 245, 0.08), rgba(255,255,255,0.02));
            border-radius: 1.25rem;
            box-shadow:
                inset 0 0 80px rgba(93, 212, 241, 0.12),
                0 24px 60px rgba(0, 0, 0, 0.45);
        }

        .about-scene-overlay {
            position: absolute;
            inset: 0;
            pointer-events: none;
            border-radius: 1.25rem;
            background:
                repeating-linear-gradient(130deg, rgba(128, 228, 250, 0.05) 0 1px, transparent 1px 11px);
            mix-blend-mode: screen;
            opacity: 0.45;
        }

        .about-hud {
            position: absolute;
            left: 1rem;
            right: 1rem;
            bottom: 0.9rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            pointer-events: none;
            z-index: 4;
        }

        .about-hud span {
            display: inline-flex;
            align-items: center;
            gap: 0.45rem;
            padding: 0.35rem 0.7rem;
            border-radius: 999px;
            border: 1px solid rgba(124, 228, 250, 0.38);
            background: rgba(2, 15, 20, 0.58);
            font-size: 0.62rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: rgba(196, 243, 255, 0.95);
            backdrop-filter: blur(4px);
        }

        .about-hud b {
            color: #ffd58f;
            font-weight: 600;
        }

        .dates-quote {
            border-color: rgba(255, 215, 0, 0.3);
            background: linear-gradient(160deg, rgba(255, 215, 0, 0.09), rgba(255, 255, 255, 0.02));
        }

        .dates-rail {
            position: relative;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .dates-rail::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 50%;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,215,0,0.45), transparent);
            transform: translateY(-50%);
            z-index: 0;
        }

        .cinematic-card:hover .bangle-photo {
            transform: scale(1.03) rotate(-0.5deg);
        }

        @media (hover: none), (pointer: coarse) {
            .cursor-gold,
            .cursor-dot {
                display: none;
            }
        }

        @media (max-width: 1100px) {
            .section-content {
                padding: 0 2.25rem;
            }
            .scene-3d {
                height: 420px;
            }
            .bangles-gallery {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
            .bangles-gallery .bangle-panel-main {
                grid-column: span 2 / span 2;
            }
            .dates-constellation {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
            .date-special {
                grid-column: span 2 / span 2;
            }
            .about-layout {
                grid-template-columns: 1fr;
            }
            .about-scene {
                min-height: 390px;
            }
        }
        
        @media (max-width: 768px) {
            .section-content { padding: 0 1.5rem; }
            .nav-cinematic { padding: 1rem; }
            .scene-3d { height: 340px; }
            .date-timeline::before { display: none; }
            .bangles-layout {
                grid-template-columns: 1fr;
            }
            .bangles-main,
            .bangles-side {
                grid-column: span 1 / span 1;
            }
            .dates-rail {
                grid-template-columns: 1fr;
            }
            .dates-rail::before {
                display: none;
            }
            .bangles-gallery {
                grid-template-columns: 1fr;
            }
            .dates-constellation {
                grid-template-columns: 1fr;
                min-height: auto;
            }
            .date-special {
                grid-column: auto;
            }
            .date-node-left,
            .date-node-right {
                transform: none;
            }
            .about-scene {
                min-height: 300px;
            }
        }
    </style>
</head>
<body>

    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- Custom Cursor -->
    <div class="cursor-gold" id="cursorGold"></div>
    <div class="cursor-dot" id="cursorDot"></div>

    <!-- Loader -->
    <div id="loader">
        <div class="loader-bangle"></div>
        <h2 class="font-display text-4xl mt-8 gold-text tracking-widest">DR. Anha</h2>
        <p class="text-gray-500 mt-4 text-sm tracking-[0.4em] uppercase">Entering Her Universe</p>
    </div>

    <!-- Fixed 3D Background -->
    <canvas id="universe-canvas"></canvas>

    <!-- Navigation -->
    <nav class="nav-cinematic" id="mainNav">
        <div class="flex justify-between items-center max-w-7xl mx-auto">
            <div class="text-2xl font-display font-bold gold-text tracking-wider cursor-pointer" onclick="scrollToSection('hero')">
                DR. Anha
            </div>
            <div class="hidden md:flex space-x-10">
                <a class="nav-link cursor-pointer" onclick="scrollToSection('hero')">Home</a>
                <a class="nav-link cursor-pointer" onclick="scrollToSection('dogs')">Dogs</a>
                <a class="nav-link cursor-pointer" onclick="scrollToSection('bangles')">Bangles</a>
                <a class="nav-link cursor-pointer" onclick="scrollToSection('badminton')">Badminton</a>
                <a class="nav-link cursor-pointer" onclick="scrollToSection('dates')">Dates</a>
                <a class="nav-link cursor-pointer" onclick="scrollToSection('about')">About</a>
            </div>
        </div>
    </nav>

    <!-- Section 1: Hero - Dr. Anha -->
    <section id="hero" class="cinematic-section">
        <div class="section-content text-center">
            <div class="reveal-up mb-6">
                <p class="text-sm tracking-[0.5em] uppercase text-yellow-200/60 font-medium mb-4">Neurosurgeon • Healer • Visionary</p>
            </div>
            
            <h1 class="font-display text-7xl md:text-[9rem] font-bold leading-none mb-8 reveal-up" style="transition-delay: 0.2s;">
                <span class="gold-text">DR. Anha</span>
            </h1>
            
            <div class="max-w-3xl mx-auto mb-12 reveal-up" style="transition-delay: 0.4s;">
                <p class="text-xl md:text-2xl text-gray-300 font-light leading-relaxed italic font-display">
                    "With golden hands, she mends minds. With a heart of rose, she heals souls."
                </p>
            </div>

            <div class="flex justify-center items-center space-x-6 reveal-up" style="transition-delay: 0.6s;">
                <div class="cinematic-card px-8 py-4 rounded-full flex items-center space-x-3">
                    <span class="text-3xl">🧠</span>
                    <span class="text-sm tracking-widest uppercase text-yellow-200">Neurosurgeon</span>
                </div>
                <div class="cinematic-card px-8 py-4 rounded-full flex items-center space-x-3">
                    <span class="text-3xl beating">💕</span>
                    <span class="text-sm tracking-widest uppercase text-pink-200">Called Pippa</span>
                </div>
            </div>

            <div class="mt-20 reveal-up" style="transition-delay: 0.8s;">
                <p class="text-gray-500 text-sm tracking-[0.4em] uppercase mb-4">Scroll to Explore</p>
                <div class="animate-bounce text-3xl text-yellow-400">↓</div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 2: Dogs -->
    <section id="dogs" class="cinematic-section">
        <div class="section-content">
            <div class="grid md:grid-cols-2 gap-16 items-center">
                <div class="order-2 md:order-1">
                    <div id="dog-scene" class="scene-3d"></div>
                </div>
                
                <div class="order-1 md:order-2 text-right">
                    <div class="reveal-up mb-4">
                        <span class="text-7xl block mb-6 floating">🐕</span>
                    </div>
                    
                    <h2 class="font-display text-5xl md:text-7xl mb-6 reveal-up silver-text" style="transition-delay: 0.1s;">
                        Dog Lover
                    </h2>
                    
                    <div class="w-32 h-px bg-gradient-to-r from-transparent via-gray-400 to-transparent ml-auto mb-8 reveal-up" style="transition-delay: 0.2s;"></div>
                    
                    <p class="text-xl text-gray-300 leading-relaxed mb-6 reveal-up font-light" style="transition-delay: 0.3s;">
                        In the eyes of every dog, Anha finds unconditional love. Her heart beats in rhythm with wagging tails and playful paws.
                    </p>
                    
                    <p class="text-lg text-gray-400 italic reveal-up mb-8" style="transition-delay: 0.4s;">
                        "Who rescued who?" — A question she smiles at every day.
                    </p>

                    <div class="flex justify-end space-x-4 reveal-up" style="transition-delay: 0.5s;">
                        <div class="cinematic-card p-4 rounded-2xl floating">
                            <span class="text-3xl">🦴</span>
                        </div>
                        <div class="cinematic-card p-4 rounded-2xl floating" style="animation-delay: 0.5s;">
                            <span class="text-3xl">🐾</span>
                        </div>
                        <div class="cinematic-card p-4 rounded-2xl floating" style="animation-delay: 1s;">
                            <span class="text-3xl">❤️</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 3: Bangles -->
    <section id="bangles" class="cinematic-section bangles-theme bangles-concept">
        <div class="section-content">
            <div class="text-center mb-12">
                <div class="reveal-up mb-4">
                    <span class="text-7xl floating inline-block">💫</span>
                </div>
                <h2 class="font-display text-5xl md:text-8xl mb-4 reveal-up gold-text" style="transition-delay: 0.1s;">
                    Bangles of Love
                </h2>
                <p class="text-lg text-yellow-200/60 tracking-widest uppercase reveal-up" style="transition-delay: 0.2s;">
                    Music on Her Wrists • Stories in Gold
                </p>
            </div>

            <div class="bangle-runway reveal-up mb-10" style="transition-delay: 0.25s;">
                <div class="bangle-runway-track"></div>
                <div class="bangle-tags">
                    <span>Pure Gold</span>
                    <span>Rose Gold</span>
                    <span>Diamond Cut</span>
                </div>
            </div>

            <div class="bangles-gallery max-w-6xl mx-auto mb-14">
                <article class="reveal-up cinematic-card bangle-card bangle-panel bangle-panel-main p-8 rounded-3xl text-center group" style="transition-delay: 0.3s;">
                    <div class="bangle-photo-shell">
                        <img class="bangle-photo" loading="lazy" src="https://i.pinimg.com/originals/4a/b4/e2/4ab4e204ec339813a2ada924d8de8ebe.jpg" alt="Pure Gold bangle">
                    </div>
                    <div class="bangle-ring-badge"></div>
                    <h3 class="font-display text-3xl text-yellow-300 mb-2">Pure Gold</h3>
                    <p class="text-gray-300 text-sm leading-relaxed">22-carat elegance, the timeless classic that never fades.</p>
                </article>

                <article class="reveal-up cinematic-card bangle-card bangle-panel p-8 rounded-3xl text-center group border-rose-400/30" style="transition-delay: 0.4s;">
                    <div class="bangle-photo-shell">
                        <img class="bangle-photo" loading="lazy" src="https://i.pinimg.com/originals/f0/f6/ab/f0f6abefba5f3611ffea670ecbffe29f.jpg" alt="Rose Gold bangle">
                    </div>
                    <div class="bangle-ring-badge" style="border-color: rgba(232, 166, 176, 0.45); box-shadow: inset 0 0 0 8px rgba(232, 166, 176, 0.09), 0 0 20px rgba(232, 166, 176, 0.16);"></div>
                    <h3 class="font-display text-2xl text-rose-300 mb-2">Rose Gold</h3>
                    <p class="text-gray-300 text-sm leading-relaxed">The hue of love, blending copper's warmth with gold's luxury.</p>
                </article>

                <article class="reveal-up cinematic-card bangle-card bangle-panel p-8 rounded-3xl text-center group border-purple-400/30" style="transition-delay: 0.5s;">
                    <div class="bangle-photo-shell">
                        <img class="bangle-photo" loading="lazy" src="https://i.pinimg.com/originals/58/0b/0d/580b0dab09959d39bb4c5ab064405382.jpg" alt="Diamond Cut bangle">
                    </div>
                    <div class="bangle-ring-badge" style="border-color: rgba(184, 163, 255, 0.45); box-shadow: inset 0 0 0 8px rgba(184, 163, 255, 0.09), 0 0 20px rgba(184, 163, 255, 0.16);"></div>
                    <h3 class="font-display text-2xl text-purple-300 mb-2">Diamond Cut</h3>
                    <p class="text-gray-300 text-sm leading-relaxed">Faceted brilliance that catches light with every movement.</p>
                </article>
            </div>

            <div class="text-center reveal-up max-w-3xl mx-auto" style="transition-delay: 0.6s;">
                <div class="cinematic-card bangle-quote px-12 py-8 rounded-3xl inline-block">
                    <p class="font-display text-2xl md:text-3xl italic text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-rose-200 to-yellow-200">
                        "Each chime is a heartbeat, each bangle a promise."
                    </p>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 4: Badminton -->
    <section id="badminton" class="cinematic-section">
        <div class="section-content">
            <div class="grid md:grid-cols-2 gap-16 items-center">
                <div class="text-left">
                    <div class="reveal-up mb-4">
                        <span class="text-7xl block mb-6 floating inline-block">🏸</span>
                    </div>
                    
                    <h2 class="font-display text-5xl md:text-7xl mb-6 reveal-up silver-text" style="transition-delay: 0.1s;">
                        Badminton Pro
                    </h2>
                    
                    <div class="w-32 h-px bg-gradient-to-r from-green-400 to-transparent mb-8 reveal-up" style="transition-delay: 0.2s;"></div>
                    
                    <p class="text-xl text-gray-300 leading-relaxed mb-6 reveal-up font-light" style="transition-delay: 0.3s;">
                        On the court, Dr. Anha transforms. The surgeon's precision meets the athlete's fire. Every smash is calculated, every drop shot is poetry.
                    </p>
                    
                    <div class="space-y-4 reveal-up" style="transition-delay: 0.4s;">
                        <div class="cinematic-card p-5 rounded-xl flex items-center space-x-4 max-w-md">
                            <div class="w-14 h-14 rounded-full bg-green-500/20 flex items-center justify-center text-3xl">⚡</div>
                            <div>
                                <h4 class="font-bold text-green-300 text-lg">Lightning Reflexes</h4>
                                <p class="text-sm text-gray-400">Neural pathways firing at match point</p>
                            </div>
                        </div>
                        <div class="cinematic-card p-5 rounded-xl flex items-center space-x-4 max-w-md">
                            <div class="w-14 h-14 rounded-full bg-yellow-500/20 flex items-center justify-center text-3xl">🎯</div>
                            <div>
                                <h4 class="font-bold text-yellow-300 text-lg">Surgical Precision</h4>
                                <p class="text-sm text-gray-400">Every shot lands with intent</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="relative">
                    <div id="badminton-scene" class="scene-3d"></div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 5: Special Dates -->
    <section id="dates" class="cinematic-section dates-theme dates-concept">
        <div class="section-content">
            <div class="text-center mb-16">
                <h2 class="font-display text-5xl md:text-7xl gold-text mb-4 reveal-up">Sacred Dates</h2>
                <p class="text-gray-400 tracking-widest uppercase reveal-up" style="transition-delay: 0.1s;">Moments Etched in Eternity</p>
            </div>

            <div class="dates-constellation max-w-6xl mx-auto">
                <div class="dates-starline"></div>

                <article class="reveal-up cinematic-card date-card date-node date-node-left p-10 rounded-3xl text-center relative overflow-hidden group" style="transition-delay: 0.2s;">
                    <div class="date-node-pin"></div>
                    <div class="absolute inset-0 bg-gradient-to-br from-rose-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="date-image-shell">
                            <img class="date-image" loading="lazy" src="https://i.pinimg.com/1200x/0f/2b/e7/0f2be7319ae0d8efbb2400abc5425470.jpg" alt="Birthday inspiration">
                        </div>
                        <div class="text-5xl mb-5 animate-bounce">🎂</div>
                        <h3 class="font-display text-2xl text-rose-300 mb-3 tracking-widest uppercase">The Day She Arrived</h3>
                        <div class="text-6xl font-display font-bold gold-text my-6 tracking-tighter">
                            10<span class="text-4xl">.11</span>.2003
                        </div>
                        <p class="text-gray-400 italic text-lg">"The universe gained its brightest star"</p>
                        <a class="inline-flex mt-4 px-5 py-2 rounded-full border border-rose-300/40 text-rose-200 text-xs tracking-widest uppercase hover:bg-rose-300/10 transition-colors" href="https://gemini.google.com/share/38c4475dd556" target="_blank" rel="noopener noreferrer">Birthday Story Link</a>
                        <div class="mt-6 flex justify-center space-x-3">
                            <span class="text-2xl animate-pulse">✨</span>
                            <span class="text-2xl animate-pulse" style="animation-delay: 0.2s;">🌟</span>
                            <span class="text-2xl animate-pulse" style="animation-delay: 0.4s;">✨</span>
                        </div>
                    </div>
                </article>

                <article class="reveal-up cinematic-card date-card date-special p-10 rounded-3xl text-center relative overflow-hidden group" style="transition-delay: 0.3s;">
                    <div class="date-node-pin"></div>
                    <div class="absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="date-special-orbit"></div>
                        <h3 class="font-display text-2xl text-yellow-200 mb-3 tracking-widest uppercase">A Special Date</h3>
                        <div class="text-5xl font-display font-bold gold-text my-6 tracking-tight">
                            Reserved for Our Next Chapter
                        </div>
                        <p class="text-gray-400 italic text-lg">"One more golden day waiting to be written"</p>
                        <div class="mt-6 flex justify-center space-x-3">
                            <span class="text-2xl animate-pulse">📿</span>
                            <span class="text-2xl animate-pulse" style="animation-delay: 0.2s;">✨</span>
                            <span class="text-2xl animate-pulse" style="animation-delay: 0.4s;">📅</span>
                        </div>
                    </div>
                </article>

                <article class="reveal-up cinematic-card date-card date-node date-node-right p-10 rounded-3xl text-center relative overflow-hidden group border-yellow-400/40" style="transition-delay: 0.4s;">
                    <div class="date-node-pin"></div>
                    <div class="absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="text-6xl mb-6 beating">💕</div>
                        <h3 class="font-display text-2xl text-yellow-300 mb-3 tracking-widest uppercase">Our Forever Began</h3>
                        <div class="text-6xl font-display font-bold gold-text my-6 tracking-tighter">
                            15<span class="text-4xl">.10</span>.2024
                        </div>
                        <p class="text-gray-400 italic text-lg">"The day love wrote its name in gold"</p>
                        <div class="mt-6 flex justify-center space-x-3">
                            <span class="text-2xl animate-pulse text-pink-400">🔐</span>
                            <span class="text-2xl animate-pulse text-red-400" style="animation-delay: 0.3s;">❤️</span>
                            <span class="text-2xl animate-pulse text-pink-400" style="animation-delay: 0.6s;">🔑</span>
                        </div>
                    </div>
                </article>
            </div>

            <div class="mt-20 text-center reveal-up" style="transition-delay: 0.4s;">
                <div class="cinematic-card dates-quote px-16 py-10 rounded-3xl inline-block max-w-3xl">
                    <p class="font-display text-3xl md:text-4xl italic text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-rose-200 to-yellow-200 leading-relaxed">
                        "Dr. Anha, my Pippa,<br>my heart's eternal rhythm."
                    </p>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 6: About -->
    <section id="about" class="cinematic-section about-theme">
        <div class="section-content">
            <div class="text-center mb-14">
                <div class="reveal-up mb-4">
                    <span class="text-6xl inline-block floating">🧠</span>
                </div>
                <h2 class="font-display text-5xl md:text-7xl reveal-up mb-4" style="transition-delay: 0.1s;">
                    <span class="silver-text">About Anha</span>
                </h2>
                <p class="reveal-up text-cyan-100/70 tracking-[0.35em] uppercase text-sm" style="transition-delay: 0.2s;">
                    Nervous Theme • Precision in Every Signal
                </p>
            </div>

            <div class="about-layout max-w-6xl mx-auto">
                <div class="about-copy reveal-up" style="transition-delay: 0.25s;">
                    <p class="about-signal">Neurosurgeon Focus</p>
                    <h3 class="font-display text-3xl md:text-4xl mb-4">Living Neural Precision</h3>
                    <p class="text-gray-300 text-lg leading-relaxed mb-6">
                        Dr. Anha works where precision meets life itself. Every movement is signal control, every decision is cortical clarity, and every action is guided by compassionate healing.
                    </p>
                    <div class="neuro-ribbon"></div>
                    <div class="about-tags">
                        <span>Neural Clarity</span>
                        <span>Cortex Calm</span>
                        <span>Surgical Focus</span>
                        <span>Synapse Care</span>
                    </div>
                </div>

                <div class="about-scene-wrap reveal-up" style="transition-delay: 0.35s;">
                    <div id="about-scene" class="scene-3d about-scene"></div>
                    <div class="about-scene-overlay"></div>
                    <div class="about-hud">
                        <span>Neural Pulse <b>72 bpm</b></span>
                        <span>Signal Integrity <b>99%</b></span>
                        <span>Cortical Focus <b>Stable</b></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="relative z-10 py-12 border-t border-yellow-900/20 bg-black/50 backdrop-blur-sm">
        <div class="text-center">
            <p class="font-display text-3xl gold-text mb-3">DR. Anha</p>
            <p class="text-gray-600 text-sm tracking-[0.4em] uppercase">Forever Yours • Pippa • 2024</p>
        </div>
    </footer>

    <script>
        document.body.classList.add('js-ready');
        const isTouchDevice = window.matchMedia('(hover: none), (pointer: coarse)').matches;
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        const isSmallViewport = () => window.matchMedia('(max-width: 1024px)').matches;
        const pixelRatioCap = () => isSmallViewport() ? 1.25 : 2;
        const sparkleCount = () => isTouchDevice ? 6 : 12;
        const qualityScale = () => prefersReducedMotion ? 0.65 : (isSmallViewport() ? 0.82 : 1);

        function smoothFov(camera, targetFov, ease = 0.08) {
            const nextFov = camera.fov + (targetFov - camera.fov) * ease;
            if (Math.abs(nextFov - camera.fov) > 0.01) {
                camera.fov = nextFov;
                camera.updateProjectionMatrix();
            }
        }

        // Loading Sequence
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loader').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loader').style.display = 'none';
                    try {
                        initUniverse();
                    } catch (e) {
                        console.error('Universe init failed:', e);
                    }
                }, 1000);
            }, 2500);
        });

        // Custom Cursor
        const cursorGold = document.getElementById('cursorGold');
        const cursorDot = document.getElementById('cursorDot');

        if (!isTouchDevice && !prefersReducedMotion) {
            let targetCursorX = window.innerWidth / 2;
            let targetCursorY = window.innerHeight / 2;
            let smoothCursorX = targetCursorX;
            let smoothCursorY = targetCursorY;
            let lastHeartAt = 0;

            function spawnCardioHeart(x, y) {
                const heart = document.createElement('span');
                heart.className = 'cursor-heart';
                heart.textContent = '❤';
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
                heart.style.fontSize = (10 + Math.random() * 12) + 'px';
                heart.style.transform = `translate(-50%, -50%) rotate(${(Math.random() - 0.5) * 20}deg)`;
                document.body.appendChild(heart);
                heart.addEventListener('animationend', () => heart.remove(), { once: true });
            }

            document.addEventListener('mousemove', (e) => {
                targetCursorX = e.clientX;
                targetCursorY = e.clientY;
                cursorDot.style.left = targetCursorX + 'px';
                cursorDot.style.top = targetCursorY + 'px';
                const now = performance.now();
                if (now - lastHeartAt > 90) {
                    spawnCardioHeart(targetCursorX, targetCursorY);
                    lastHeartAt = now;
                }
            });

            function animateCursor() {
                smoothCursorX += (targetCursorX - smoothCursorX) * 0.18;
                smoothCursorY += (targetCursorY - smoothCursorY) * 0.18;
                cursorGold.style.left = smoothCursorX - 10 + 'px';
                cursorGold.style.top = smoothCursorY - 10 + 'px';
                requestAnimationFrame(animateCursor);
            }
            animateCursor();

            document.querySelectorAll('a, .cinematic-card').forEach(el => {
                el.addEventListener('mouseenter', () => {
                    cursorGold.style.transform = 'scale(1.5)';
                    cursorGold.style.borderColor = '#FF69B4';
                });
                el.addEventListener('mouseleave', () => {
                    cursorGold.style.transform = 'scale(1)';
                    cursorGold.style.borderColor = '#FFD700';
                });
            });
        }

        // Scroll Progress & Navigation
        window.addEventListener('scroll', () => {
            const scrolled = window.scrollY;
            const maxScroll = Math.max(1, document.documentElement.scrollHeight - window.innerHeight);
            document.getElementById('progressBar').style.transform = `scaleX(${scrolled / maxScroll})`;
            
            const nav = document.getElementById('mainNav');
            nav.classList.toggle('visible', scrolled > 100);
        }, { passive: true });

        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                gsap.to(window, {
                    duration: 1.5,
                    scrollTo: { y: element, offsetY: 0 },
                    ease: "power3.inOut"
                });
            }
        }

        // Main Universe Background
        function initUniverse() {
            if (!window.THREE || !window.gsap || !window.ScrollTrigger) return;
            gsap.registerPlugin(ScrollTrigger);
            const canvas = document.getElementById('universe-canvas');
            const scene = new THREE.Scene();
            
            // Fog for depth
            scene.fog = new THREE.FogExp2(0x090807, 0.013);
            
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, pixelRatioCap()));
            renderer.outputEncoding = THREE.sRGBEncoding;
            renderer.physicallyCorrectLights = true;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1.05;

            // Lighting Setup
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.35);
            scene.add(ambientLight);

            const hemiLight = new THREE.HemisphereLight(0xfff3da, 0x150f0b, 0.35);
            scene.add(hemiLight);

            const goldLight = new THREE.PointLight(0xFFD700, 1.8, 100);
            goldLight.position.set(10, 20, 10);
            goldLight.castShadow = true;
            goldLight.shadow.mapSize.set(1024,1024);
            goldLight.shadow.bias = -0.001;
            scene.add(goldLight);

            const roseLight = new THREE.PointLight(0xB76E79, 1.5, 100);
            roseLight.position.set(-10, -10, 10);
            roseLight.castShadow = true;
            roseLight.shadow.mapSize.set(1024,1024);
            roseLight.shadow.bias = -0.001;
            scene.add(roseLight);

            const rimLight = new THREE.DirectionalLight(0xffffff, 0.5);
            rimLight.position.set(0, 10, -10);
            rimLight.castShadow = true;
            rimLight.shadow.camera.near = 0.1;
            rimLight.shadow.camera.far = 100;
            rimLight.shadow.mapSize.set(1024,1024);
            scene.add(rimLight);

            // Realistic Bangle Materials
            const materials = {
                gold: new THREE.MeshPhysicalMaterial({
                    color: 0xFFD700,
                    metalness: 1.0,
                    roughness: 0.15,
                    clearcoat: 1.0,
                    clearcoatRoughness: 0.1,
                    emissive: 0xFFD700,
                    emissiveIntensity: 0.1,
                    envMapIntensity: 1.0
                }),
                roseGold: new THREE.MeshPhysicalMaterial({
                    color: 0xB76E79,
                    metalness: 0.9,
                    roughness: 0.2,
                    clearcoat: 0.8,
                    clearcoatRoughness: 0.15,
                    emissive: 0xB76E79,
                    emissiveIntensity: 0.1
                }),
                silver: new THREE.MeshPhysicalMaterial({
                    color: 0xE0E0E0,
                    metalness: 1.0,
                    roughness: 0.1,
                    clearcoat: 1.0,
                    clearcoatRoughness: 0.05,
                    emissive: 0xE0E0E0,
                    emissiveIntensity: 0.05
                }),
                copper: new THREE.MeshPhysicalMaterial({
                    color: 0xB87333,
                    metalness: 0.9,
                    roughness: 0.25,
                    clearcoat: 0.6,
                    emissive: 0xB87333,
                    emissiveIntensity: 0.1
                }),
                diamond: new THREE.MeshPhysicalMaterial({
                    color: 0xffffff,
                    metalness: 0.1,
                    roughness: 0.0,
                    transmission: 0.9,
                    thickness: 0.5,
                    clearcoat: 1.0,
                    emissive: 0xffffff,
                    emissiveIntensity: 0.2
                })
            };

            // Create Bangle Array
            const bangles = [];
            const bangleGroup = new THREE.Group();

            // Generate realistic bangles
            const bangleCount = Math.max(14, Math.floor(25 * qualityScale()));
            for (let i = 0; i < bangleCount; i++) {
                const radius = 1.5 + Math.random() * 2;
                const tube = 0.08 + Math.random() * 0.08;
                const geometry = new THREE.TorusGeometry(radius, tube, 32, 100);
                
                // Select material based on position
                let material;
                const rand = Math.random();
                if (rand < 0.4) material = materials.gold;
                else if (rand < 0.6) material = materials.roseGold;
                else if (rand < 0.8) material = materials.silver;
                else if (rand < 0.9) material = materials.copper;
                else material = materials.diamond;

                const bangle = new THREE.Mesh(geometry, material);
                bangle.castShadow = true;
                bangle.receiveShadow = true;
                
                // Position in spherical distribution
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.random() * Math.PI;
                const r = 10 + Math.random() * 20;
                
                bangle.position.x = r * Math.sin(phi) * Math.cos(theta);
                bangle.position.y = r * Math.sin(phi) * Math.sin(theta);
                bangle.position.z = r * Math.cos(phi) - 15;
                
                bangle.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);
                
                bangle.userData = {
                    rotationSpeed: {
                        x: (Math.random() - 0.5) * 0.005,
                        y: (Math.random() - 0.5) * 0.005,
                        z: (Math.random() - 0.5) * 0.005
                    },
                    floatSpeed: 0.3 + Math.random() * 0.5,
                    floatOffset: Math.random() * Math.PI * 2,
                    originalPos: bangle.position.clone(),
                    orbitRadius: r,
                    orbitSpeed: 0.001 + Math.random() * 0.002,
                    orbitOffset: Math.random() * Math.PI * 2
                };
                
                bangles.push(bangle);
                bangleGroup.add(bangle);
            }

            scene.add(bangleGroup);

            // Particle System (Golden Dust)
            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = Math.max(90, Math.floor(180 * qualityScale()));
            const posArray = new Float32Array(particlesCount * 3);
            const colorsArray = new Float32Array(particlesCount * 3);

            for (let i = 0; i < particlesCount; i++) {
                const i3 = i * 3;
                posArray[i3] = (Math.random() - 0.5) * 100;
                posArray[i3 + 1] = (Math.random() - 0.5) * 100;
                posArray[i3 + 2] = (Math.random() - 0.5) * 50;
                
                // Gold and Rose colors
                if (Math.random() > 0.5) {
                    colorsArray[i3] = 1.0;     // R
                    colorsArray[i3 + 1] = 0.84; // G
                    colorsArray[i3 + 2] = 0.0;   // B
                } else {
                    colorsArray[i3] = 0.72;    // R
                    colorsArray[i3 + 1] = 0.43;  // G
                    colorsArray[i3 + 2] = 0.47;  // B
                }
            }

            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colorsArray, 3));

            const particlesMaterial = new THREE.PointsMaterial({
                size: 0.08,
                vertexColors: true,
                transparent: true,
                opacity: 0.5,
                blending: THREE.AdditiveBlending,
                sizeAttenuation: true
            });

            const particles = new THREE.Points(particlesGeometry, particlesMaterial);
            particles.castShadow = false;
            scene.add(particles);

            camera.position.z = 30;

            // Camera control object for cinematic scroll-driven motion
            const camControls = {
                x: camera.position.x,
                y: camera.position.y,
                z: camera.position.z,
                fov: camera.fov,
                roll: 0,
                lookX: 0,
                lookY: 0,
                lookZ: -10
            };

            const worldPath = { progress: 0 };
            gsap.to(worldPath, {
                progress: 1,
                ease: 'none',
                scrollTrigger: {
                    trigger: 'body',
                    start: 'top top',
                    end: 'bottom bottom',
                    scrub: 1
                }
            });

            // Mouse tracking (for subtle parallax over the cinematic camera)
            let mouseX = 0, mouseY = 0;
            let targetX = 0, targetY = 0;

            document.addEventListener('mousemove', (e) => {
                mouseX = (e.clientX / window.innerWidth) * 2 - 1;
                mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
            }, { passive: true });

            // Keep a clock for animated elements
            const clock = new THREE.Clock();

            function animate() {
                requestAnimationFrame(animate);
                const elapsed = clock.getElapsedTime();

                // Smooth camera follow mouse targets (subtle parallax)
                targetX += (mouseX - targetX) * 0.05;
                targetY += (mouseY - targetY) * 0.05;

                // Desired camera position comes from camControls (driven by GSAP ScrollTrigger)
                const orbitX = Math.sin(worldPath.progress * Math.PI * 3) * 2.2;
                const orbitY = Math.cos(worldPath.progress * Math.PI * 2) * 1.1;
                const desiredX = camControls.x + targetX * 5 + orbitX;
                const desiredY = camControls.y + targetY * 5 + orbitY;
                const desiredZ = camControls.z;

                camera.position.x += (desiredX - camera.position.x) * 0.08;
                camera.position.y += (desiredY - camera.position.y) * 0.08;
                camera.position.z += (desiredZ - camera.position.z) * 0.08;
                camera.lookAt(camControls.lookX, camControls.lookY, camControls.lookZ);
                smoothFov(camera, camControls.fov, 0.08);
                camera.rotation.z += (camControls.roll - camera.rotation.z) * 0.06;

                // Animate bangles
                bangles.forEach((bangle, i) => {
                    // Self rotation
                    bangle.rotation.x += bangle.userData.rotationSpeed.x;
                    bangle.rotation.y += bangle.userData.rotationSpeed.y;
                    bangle.rotation.z += bangle.userData.rotationSpeed.z;

                    // Orbital movement
                    const orbitAngle = elapsed * bangle.userData.orbitSpeed + bangle.userData.orbitOffset;
                    bangle.position.x = bangle.userData.originalPos.x + Math.cos(orbitAngle) * 2;
                    bangle.position.z = bangle.userData.originalPos.z + Math.sin(orbitAngle) * 2;
                    
                    // Floating
                    bangle.position.y = bangle.userData.originalPos.y + 
                        Math.sin(elapsed * bangle.userData.floatSpeed + bangle.userData.floatOffset) * 1.5;
                });

                // Rotate entire group slowly
                bangleGroup.rotation.y = elapsed * 0.02;

                // Animate particles
                particles.rotation.y = elapsed * 0.01;
                particles.rotation.x = Math.sin(elapsed * 0.1) * 0.1;

                // Pulsing lights
                goldLight.intensity = 2 + Math.sin(elapsed * 0.5) * 0.5;
                roseLight.intensity = 2 + Math.cos(elapsed * 0.7) * 0.5;

                renderer.render(scene, camera);
            }

            animate();

            // Handle resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, pixelRatioCap()));
            });

            // Initialize scroll animations first so content is never stuck hidden
            initScrollAnimations(camControls, bangleGroup, scene);

            // Initialize section 3D scenes (safe-guarded)
            try { initDogScene(); } catch (e) { console.error('Dog scene init failed:', e); }
            try { initBadmintonScene(); } catch (e) { console.error('Badminton scene init failed:', e); }
            try { initAboutScene(); } catch (e) { console.error('About scene init failed:', e); }
        }

        // Dog 3D Scene
        function initDogScene() {
            const container = document.getElementById('dog-scene');
            if (!container || !window.THREE || !window.gsap) return;
            const scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(0x11100f, 0.045);
            const camera = new THREE.PerspectiveCamera(48, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: !isSmallViewport() });
            
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, pixelRatioCap()));
            renderer.outputEncoding = THREE.sRGBEncoding;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1.0;
            container.appendChild(renderer.domElement);

            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;

            // Lights
            const hemiLight = new THREE.HemisphereLight(0xfff2dd, 0x20170f, 0.55);
            scene.add(hemiLight);
            
            const dirLight = new THREE.DirectionalLight(0xffe0b3, 1.2);
            dirLight.position.set(5, 8, 6);
            dirLight.castShadow = true;
            dirLight.shadow.mapSize.set(1024, 1024);
            dirLight.shadow.camera.near = 0.5;
            dirLight.shadow.camera.far = 30;
            scene.add(dirLight);

            const fillLight = new THREE.PointLight(0xd9e8ff, 0.5, 15);
            fillLight.position.set(-4, 3, 2);
            scene.add(fillLight);

            const rimLight = new THREE.DirectionalLight(0xffb580, 0.6);
            rimLight.position.set(-3, 5, -4);
            scene.add(rimLight);

            const dog = new THREE.Group();

            const furCanvas = document.createElement('canvas');
            furCanvas.width = 256;
            furCanvas.height = 256;
            const furCtx = furCanvas.getContext('2d');
            furCtx.fillStyle = '#8b5a3a';
            furCtx.fillRect(0, 0, 256, 256);
            for (let i = 0; i < 2400; i++) {
                const x = Math.random() * 256;
                const y = Math.random() * 256;
                const alpha = 0.05 + Math.random() * 0.15;
                furCtx.fillStyle = `rgba(255,255,255,${alpha})`;
                furCtx.fillRect(x, y, 1, 2);
            }
            const furMap = new THREE.CanvasTexture(furCanvas);
            furMap.wrapS = THREE.RepeatWrapping;
            furMap.wrapT = THREE.RepeatWrapping;
            furMap.repeat.set(3, 3);

            const furMain = new THREE.MeshPhysicalMaterial({
                color: 0x8b5a3a,
                map: furMap,
                roughness: 0.7,
                metalness: 0.0,
                clearcoat: 0.18,
                clearcoatRoughness: 0.88
            });
            const furDark = new THREE.MeshPhysicalMaterial({ color: 0x5f3b23, map: furMap, roughness: 0.82, metalness: 0.0 });
            const furLight = new THREE.MeshPhysicalMaterial({ color: 0xc79a78, map: furMap, roughness: 0.72, metalness: 0.0 });
            const furCream = new THREE.MeshPhysicalMaterial({ color: 0xe7d4bb, map: furMap, roughness: 0.7, metalness: 0.0 });
            const scleraMat = new THREE.MeshPhysicalMaterial({ color: 0xf7f2ea, roughness: 0.45, metalness: 0.02, clearcoat: 0.4 });
            const eyeMat = new THREE.MeshPhysicalMaterial({ color: 0x16110d, roughness: 0.1, metalness: 0.1, clearcoat: 1 });
            const noseMat = new THREE.MeshPhysicalMaterial({ color: 0x101010, roughness: 0.18, metalness: 0.2, clearcoat: 1.0 });

            const torso = new THREE.Mesh(new THREE.SphereGeometry(0.95, 36, 36), furMain);
            torso.scale.set(1.2, 0.82, 2.18);
            torso.position.set(0, 0.03, -0.08);
            torso.castShadow = true;
            torso.receiveShadow = true;
            dog.add(torso);

            const chest = new THREE.Mesh(new THREE.SphereGeometry(0.78, 32, 32), furCream);
            chest.scale.set(0.9, 1.05, 0.88);
            chest.position.set(0, 0.02, 1.2);
            chest.castShadow = true;
            dog.add(chest);

            const shoulder = new THREE.Mesh(new THREE.SphereGeometry(0.72, 30, 30), furMain);
            shoulder.scale.set(0.95, 0.86, 0.9);
            shoulder.position.set(0, 0.25, 0.95);
            shoulder.castShadow = true;
            dog.add(shoulder);

            const back = new THREE.Mesh(new THREE.SphereGeometry(0.77, 32, 32), furDark);
            back.scale.set(1.08, 0.82, 1.0);
            back.position.set(0, 0.13, -1.34);
            back.castShadow = true;
            dog.add(back);

            const spineLine = new THREE.Mesh(new THREE.CylinderGeometry(0.08, 0.08, 2.4, 18), furDark);
            spineLine.position.set(0, 0.54, -0.16);
            spineLine.rotation.z = Math.PI / 2;
            dog.add(spineLine);

            const neck = new THREE.Mesh(new THREE.CylinderGeometry(0.33, 0.4, 0.75, 24), furMain);
            neck.position.set(0, 0.86, 1.42);
            neck.rotation.x = 0.62;
            neck.castShadow = true;
            dog.add(neck);

            const head = new THREE.Mesh(new THREE.SphereGeometry(0.72, 36, 36), furMain);
            head.position.set(0, 1.28, 2.07);
            head.scale.set(1.0, 0.9, 1.07);
            head.castShadow = true;
            head.receiveShadow = true;
            dog.add(head);

            const muzzle = new THREE.Mesh(new THREE.SphereGeometry(0.42, 32, 32), furCream);
            muzzle.position.set(0, 1.0, 2.66);
            muzzle.scale.set(1.0, 0.72, 1.42);
            muzzle.castShadow = true;
            dog.add(muzzle);

            const snoutBridge = new THREE.Mesh(new THREE.CylinderGeometry(0.18, 0.24, 0.7, 20), furLight);
            snoutBridge.rotation.x = Math.PI / 2;
            snoutBridge.position.set(0, 1.1, 2.47);
            snoutBridge.castShadow = true;
            dog.add(snoutBridge);

            const jaw = new THREE.Mesh(new THREE.SphereGeometry(0.3, 24, 24), furCream);
            jaw.position.set(0, 0.8, 2.58);
            jaw.scale.set(1.0, 0.56, 1.24);
            dog.add(jaw);

            const nose = new THREE.Mesh(new THREE.SphereGeometry(0.14, 24, 24), noseMat);
            nose.position.set(0, 1.06, 3.08);
            nose.scale.set(1.22, 0.9, 1.0);
            dog.add(nose);

            const leftNostril = new THREE.Mesh(new THREE.SphereGeometry(0.028, 10, 10), new THREE.MeshStandardMaterial({ color: 0x050505, roughness: 0.25 }));
            leftNostril.position.set(-0.07, 1.03, 3.14);
            leftNostril.scale.set(1.0, 0.65, 0.7);
            dog.add(leftNostril);

            const rightNostril = new THREE.Mesh(new THREE.SphereGeometry(0.028, 10, 10), new THREE.MeshStandardMaterial({ color: 0x050505, roughness: 0.25 }));
            rightNostril.position.set(0.07, 1.03, 3.14);
            rightNostril.scale.set(1.0, 0.65, 0.7);
            dog.add(rightNostril);

            const mouthLine = new THREE.Mesh(
                new THREE.CylinderGeometry(0.014, 0.014, 0.24, 10),
                new THREE.MeshStandardMaterial({ color: 0x2a1a16, roughness: 0.9 })
            );
            mouthLine.position.set(0, 0.91, 2.9);
            mouthLine.rotation.z = Math.PI / 2;
            dog.add(mouthLine);

            const leftMouthCorner = new THREE.Mesh(
                new THREE.CylinderGeometry(0.008, 0.008, 0.16, 8),
                new THREE.MeshStandardMaterial({ color: 0x2a1a16, roughness: 0.88 })
            );
            leftMouthCorner.position.set(-0.12, 0.85, 2.84);
            leftMouthCorner.rotation.set(0.0, -0.35, 1.0);
            dog.add(leftMouthCorner);

            const rightMouthCorner = new THREE.Mesh(
                new THREE.CylinderGeometry(0.008, 0.008, 0.16, 8),
                new THREE.MeshStandardMaterial({ color: 0x2a1a16, roughness: 0.88 })
            );
            rightMouthCorner.position.set(0.12, 0.85, 2.84);
            rightMouthCorner.rotation.set(0.0, 0.35, -1.0);
            dog.add(rightMouthCorner);

            const tongue = new THREE.Mesh(
                new THREE.SphereGeometry(0.12, 14, 14),
                new THREE.MeshStandardMaterial({ color: 0xc7707f, roughness: 0.7 })
            );
            tongue.position.set(0, 0.76, 2.84);
            tongue.scale.set(0.9, 0.46, 1.42);
            dog.add(tongue);

            const leftEye = new THREE.Mesh(new THREE.SphereGeometry(0.13, 16, 16), scleraMat);
            leftEye.position.set(-0.22, 1.3, 2.68);
            dog.add(leftEye);

            const rightEye = new THREE.Mesh(new THREE.SphereGeometry(0.13, 16, 16), scleraMat);
            rightEye.position.set(0.22, 1.3, 2.68);
            dog.add(rightEye);

            const leftPupil = new THREE.Mesh(new THREE.SphereGeometry(0.07, 14, 14), eyeMat);
            leftPupil.position.set(-0.215, 1.295, 2.78);
            dog.add(leftPupil);

            const rightPupil = new THREE.Mesh(new THREE.SphereGeometry(0.07, 14, 14), eyeMat);
            rightPupil.position.set(0.215, 1.295, 2.78);
            dog.add(rightPupil);

            const eyeSpecMat = new THREE.MeshBasicMaterial({ color: 0xffffff });
            const leftSpec = new THREE.Mesh(new THREE.SphereGeometry(0.03, 8, 8), eyeSpecMat);
            leftSpec.position.set(-0.19, 1.34, 2.75);
            dog.add(leftSpec);

            const rightSpec = new THREE.Mesh(new THREE.SphereGeometry(0.03, 8, 8), eyeSpecMat);
            rightSpec.position.set(0.25, 1.34, 2.75);
            dog.add(rightSpec);

            const whiskerMat = new THREE.MeshBasicMaterial({ color: 0xdcc7a9 });
            const whiskerGeo = new THREE.CylinderGeometry(0.004, 0.004, 0.25, 6);
            const leftWhisker1 = new THREE.Mesh(whiskerGeo, whiskerMat);
            leftWhisker1.position.set(-0.26, 0.95, 2.86);
            leftWhisker1.rotation.z = 1.18;
            dog.add(leftWhisker1);
            const leftWhisker2 = new THREE.Mesh(whiskerGeo, whiskerMat);
            leftWhisker2.position.set(-0.28, 0.9, 2.8);
            leftWhisker2.rotation.z = 1.35;
            dog.add(leftWhisker2);
            const rightWhisker1 = new THREE.Mesh(whiskerGeo, whiskerMat);
            rightWhisker1.position.set(0.26, 0.95, 2.86);
            rightWhisker1.rotation.z = -1.18;
            dog.add(rightWhisker1);
            const rightWhisker2 = new THREE.Mesh(whiskerGeo, whiskerMat);
            rightWhisker2.position.set(0.28, 0.9, 2.8);
            rightWhisker2.rotation.z = -1.35;
            dog.add(rightWhisker2);

            const browGeo = new THREE.CylinderGeometry(0.015, 0.015, 0.16, 10);
            const leftBrow = new THREE.Mesh(browGeo, furDark);
            leftBrow.position.set(-0.22, 1.47, 2.56);
            leftBrow.rotation.z = Math.PI / 2.8;
            dog.add(leftBrow);

            const rightBrow = new THREE.Mesh(browGeo, furDark);
            rightBrow.position.set(0.22, 1.47, 2.56);
            rightBrow.rotation.z = -Math.PI / 2.8;
            dog.add(rightBrow);

            const earGeo = new THREE.SphereGeometry(0.18, 20, 20);
            const leftEar = new THREE.Mesh(earGeo, furDark);
            leftEar.position.set(-0.52, 1.58, 1.94);
            leftEar.scale.set(0.95, 2.35, 0.9);
            leftEar.rotation.set(0.24, 0.22, 0.52);
            leftEar.castShadow = true;
            dog.add(leftEar);

            const rightEar = new THREE.Mesh(earGeo, furDark);
            rightEar.position.set(0.52, 1.58, 1.94);
            rightEar.scale.set(0.95, 2.35, 0.9);
            rightEar.rotation.set(0.24, -0.22, -0.52);
            rightEar.castShadow = true;
            dog.add(rightEar);

            const legGeo = new THREE.CylinderGeometry(0.13, 0.2, 1.18, 20);
            const pawGeo = new THREE.SphereGeometry(0.2, 20, 20);
            const legPositions = [
                [-0.52, -0.72, 1.15],
                [0.52, -0.72, 1.15],
                [-0.56, -0.72, -1.35],
                [0.56, -0.72, -1.35]
            ];
            const legs = [];

            legPositions.forEach(pos => {
                const leg = new THREE.Mesh(legGeo, furDark);
                leg.position.set(pos[0], pos[1], pos[2]);
                leg.castShadow = true;
                leg.receiveShadow = true;
                dog.add(leg);
                legs.push(leg);

                const paw = new THREE.Mesh(pawGeo, furLight);
                paw.position.set(pos[0], -1.34, pos[2] + 0.02);
                paw.scale.set(1.08, 0.58, 1.42);
                paw.castShadow = true;
                dog.add(paw);

                const toeOffsets = [-0.09, 0, 0.09];
                toeOffsets.forEach((offset) => {
                    const toe = new THREE.Mesh(
                        new THREE.SphereGeometry(0.06, 12, 12),
                        furCream
                    );
                    toe.position.set(pos[0] + offset, -1.44, pos[2] + 0.16);
                    toe.scale.set(1, 0.6, 1.1);
                    dog.add(toe);
                });
            });

            const collar = new THREE.Mesh(
                new THREE.TorusGeometry(0.39, 0.05, 18, 54),
                new THREE.MeshPhysicalMaterial({ color: 0xbd8830, metalness: 0.9, roughness: 0.28, clearcoat: 0.7 })
            );
            collar.position.set(0, 0.98, 1.64);
            collar.rotation.x = Math.PI / 2.2;
            dog.add(collar);

            const tailGeo = new THREE.CylinderGeometry(0.09, 0.13, 1.25, 20);
            const tail = new THREE.Mesh(tailGeo, furMain);
            tail.position.set(0, 0.46, -2.08);
            tail.rotation.set(-0.95, 0, -0.2);
            tail.castShadow = true;
            dog.add(tail);

            dog.scale.set(0.9, 0.9, 0.9);
            dog.position.y = -0.08;

            scene.add(dog);
            const floor = new THREE.Mesh(
                new THREE.CircleGeometry(8, 60),
                new THREE.MeshStandardMaterial({ color: 0x141210, roughness: 0.95, metalness: 0.0 })
            );
            floor.rotation.x = -Math.PI / 2;
            floor.position.y = -1.45;
            floor.receiveShadow = true;
            scene.add(floor);

            const shadow = new THREE.Mesh(
                new THREE.PlaneGeometry(4.2, 2.2),
                new THREE.ShadowMaterial({ opacity: 0.38 })
            );
            shadow.rotation.x = -Math.PI / 2;
            shadow.position.set(0, -1.43, 0.2);
            shadow.receiveShadow = true;
            scene.add(shadow);

            const dogCam = {
                x: 0.4,
                y: 1.35,
                z: 6.2,
                fov: 48,
                roll: -0.02,
                lookX: 0,
                lookY: 0.6,
                lookZ: 1.25
            };

            camera.position.set(dogCam.x, dogCam.y, dogCam.z);
            camera.fov = dogCam.fov;
            camera.updateProjectionMatrix();

            gsap.to(dogCam, {
                x: -1.05,
                y: 1.62,
                z: 4.6,
                fov: 38,
                roll: 0.045,
                lookX: -0.4,
                lookY: 0.82,
                lookZ: 1.55,
                ease: 'none',
                scrollTrigger: {
                    trigger: '#dogs',
                    start: 'top 95%',
                    end: 'center center',
                    scrub: 1
                }
            });

            gsap.to(dogCam, {
                x: 1.1,
                y: 1.0,
                z: 7.2,
                fov: 54,
                roll: -0.055,
                lookX: 0.45,
                lookY: 0.4,
                lookZ: 1.3,
                ease: 'none',
                scrollTrigger: {
                    trigger: '#dogs',
                    start: 'center center',
                    end: 'bottom 25%',
                    scrub: 1
                }
            });

            gsap.to(dogCam, {
                x: 0.1,
                y: 1.25,
                z: 5.3,
                fov: 42,
                roll: 0.02,
                lookX: 0.05,
                lookY: 0.56,
                lookZ: 1.25,
                ease: 'none',
                scrollTrigger: {
                    trigger: '#dogs',
                    start: 'bottom 35%',
                    end: 'bottom top',
                    scrub: 1
                }
            });

            let mouseX = 0;
            container.addEventListener('mousemove', (e) => {
                const rect = container.getBoundingClientRect();
                mouseX = ((e.clientX - rect.left) / rect.width) * 2 - 1;
            }, { passive: true });

            const clock = new THREE.Clock();

            function animate() {
                requestAnimationFrame(animate);
                const elapsed = clock.getElapsedTime();

                dog.position.y = 0.02 + Math.sin(elapsed * 1.6) * 0.04;
                dog.rotation.y += ((mouseX * 0.5) - dog.rotation.y) * 0.08;

                torso.scale.y = 1 + Math.sin(elapsed * 1.6) * 0.015;
                head.position.y = 1.28 + Math.sin(elapsed * 1.6 + 0.3) * 0.03;

                tail.rotation.z = -0.2 + Math.sin(elapsed * 8.5) * 0.5;
                leftEar.rotation.z = 0.52 + Math.sin(elapsed * 2.2) * 0.05;
                rightEar.rotation.z = -0.52 - Math.sin(elapsed * 2.2) * 0.05;

                const step = Math.sin(elapsed * 3.2) * 0.05;
                legs[0].position.y = -0.72 + step;
                legs[1].position.y = -0.72 - step;
                legs[2].position.y = -0.72 - step;
                legs[3].position.y = -0.72 + step;

                const hoverX = Math.sin(elapsed * 0.35) * 0.08;
                const hoverY = Math.cos(elapsed * 0.4) * 0.04;
                camera.position.x += ((dogCam.x + hoverX) - camera.position.x) * 0.06;
                camera.position.y += ((dogCam.y + hoverY) - camera.position.y) * 0.06;
                camera.position.z += (dogCam.z - camera.position.z) * 0.06;
                smoothFov(camera, dogCam.fov, 0.08);
                camera.rotation.z += (dogCam.roll - camera.rotation.z) * 0.06;
                camera.lookAt(dogCam.lookX, dogCam.lookY, dogCam.lookZ);

                renderer.render(scene, camera);
            }
            animate();

            new ResizeObserver(() => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, pixelRatioCap()));
            }).observe(container);
        }

        // Badminton 3D Scene
        function initBadmintonScene() {
            const container = document.getElementById('badminton-scene');
            if (!container || !window.THREE) return;
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(50, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: !isSmallViewport() });
            
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, pixelRatioCap()));
            container.appendChild(renderer.domElement);

            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            
            const greenLight = new THREE.PointLight(0x00ff00, 1.5, 50);
            greenLight.position.set(5, 5, 5);
            greenLight.castShadow = true;
            greenLight.shadow.mapSize.set(1024,1024);
            scene.add(greenLight);

            const goldLight = new THREE.PointLight(0xFFD700, 1, 50);
            goldLight.position.set(-5, 5, 5);
            goldLight.castShadow = true;
            goldLight.shadow.mapSize.set(1024,1024);
            scene.add(goldLight);

            // Shuttlecock
            const shuttleGroup = new THREE.Group();
            
            // Cork (realistic)
            const corkGeo = new THREE.CylinderGeometry(0.25, 0.25, 0.5, 32);
            const corkMat = new THREE.MeshStandardMaterial({ 
                color: 0xD2691E, 
                roughness: 0.9,
                bumpScale: 0.02
            });
            const cork = new THREE.Mesh(corkGeo, corkMat);
            cork.position.y = -0.4;
            cork.castShadow = true;
            shuttleGroup.add(cork);

            // Leather base
            const leatherGeo = new THREE.CylinderGeometry(0.26, 0.25, 0.1, 32);
            const leatherMat = new THREE.MeshStandardMaterial({ color: 0x8B4513, roughness: 0.6 });
            const leather = new THREE.Mesh(leatherGeo, leatherMat);
            leather.position.y = -0.15;
            leather.castShadow = true;
            shuttleGroup.add(leather);

            // Feathers (detailed)
            for (let i = 0; i < 16; i++) {
                const angle = (i / 16) * Math.PI * 2;
                const featherGeo = new THREE.ConeGeometry(0.08, 1.2, 8);
                const featherMat = new THREE.MeshStandardMaterial({ 
                    color: 0xFFFFF0, 
                    roughness: 0.4,
                    side: THREE.DoubleSide
                });
                const feather = new THREE.Mesh(featherGeo, featherMat);
                
                feather.position.x = Math.cos(angle) * 0.3;
                feather.position.z = Math.sin(angle) * 0.3;
                feather.position.y = 0.4;
                feather.rotation.x = 0.3;
                feather.rotation.y = angle;
                feather.rotation.z = 0.1;
                
                feather.castShadow = true;
                shuttleGroup.add(feather);
            }

            // Skirt
            const skirtGeo = new THREE.CylinderGeometry(0.6, 0.3, 0.6, 32, 1, true);
            const skirtMat = new THREE.MeshStandardMaterial({ 
                color: 0xFFFFF0, 
                transparent: true, 
                opacity: 0.3,
                side: THREE.DoubleSide
            });
            const skirt = new THREE.Mesh(skirtGeo, skirtMat);
            skirt.position.y = 0.3;
            shuttleGroup.add(skirt);

            scene.add(shuttleGroup);

            // Professional Racket
            const racketGroup = new THREE.Group();
            
            // Handle with grip texture
            const handleGeo = new THREE.CylinderGeometry(0.12, 0.15, 2.5, 32);
            const handleMat = new THREE.MeshStandardMaterial({ 
                color: 0x1a1a1a, 
                roughness: 0.9 
            });
            const handle = new THREE.Mesh(handleGeo, handleMat);
            handle.position.y = -2;
            racketGroup.add(handle);

            // Shaft
            const shaftGeo = new THREE.CylinderGeometry(0.06, 0.08, 2, 32);
            const shaftMat = new THREE.MeshPhysicalMaterial({ 
                color: 0xC0C0C0, 
                metalness: 0.8, 
                roughness: 0.2 
            });
            const shaft = new THREE.Mesh(shaftGeo, shaftMat);
            shaft.position.y = -0.5;
            racketGroup.add(shaft);

            // Throat
            const throatGeo = new THREE.ConeGeometry(0.3, 0.4, 32);
            const throat = new THREE.Mesh(throatGeo, shaftMat);
            throat.position.y = 0.6;
            racketGroup.add(throat);

            // Frame (aerodynamic)
            const frameGeo = new THREE.TorusGeometry(1.1, 0.06, 16, 100);
            const frameMat = new THREE.MeshPhysicalMaterial({ 
                color: 0xFF0000, 
                metalness: 0.6, 
                roughness: 0.2,
                clearcoat: 0.8
            });
            const frame = new THREE.Mesh(frameGeo, frameMat);
            frame.position.y = 1.8;
            racketGroup.add(frame);

            // T-joint
            const tJoint = new THREE.Mesh(new THREE.SphereGeometry(0.15, 32, 32), shaftMat);
            tJoint.position.y = 0.8;
            racketGroup.add(tJoint);

            // Strings (grid pattern)
            const stringMat = new THREE.MeshBasicMaterial({ 
                color: 0xFFFFFF, 
                transparent: true, 
                opacity: 0.6 
            });
            
            for (let i = -1; i <= 1; i += 0.15) {
                // Vertical strings
                const vString = new THREE.Mesh(new THREE.BoxGeometry(0.01, 2, 0.01), stringMat);
                vString.position.set(i * 0.9, 1.8, 0);
                racketGroup.add(vString);
                
                // Horizontal strings
                const hString = new THREE.Mesh(new THREE.BoxGeometry(2, 0.01, 0.01), stringMat);
                hString.position.set(0, 1.8 + i * 0.9, 0);
                racketGroup.add(hString);
            }

            racketGroup.rotation.z = -0.4;
            racketGroup.position.set(-2.5, 0, 0);
            racketGroup.traverse(m => { if (m.isMesh) { m.castShadow = true; m.receiveShadow = true; } });
            scene.add(racketGroup);

            // Court lines (glowing)
            const lineGeo = new THREE.PlaneGeometry(8, 0.05);
            const lineMat = new THREE.MeshBasicMaterial({ 
                color: 0x00ff00, 
                transparent: true, 
                opacity: 0.3 
            });
            
            const line1 = new THREE.Mesh(lineGeo, lineMat);
            line1.position.set(0, -2, -2);
            line1.rotation.x = -Math.PI / 2;
            line1.receiveShadow = true;
            scene.add(line1);

            // Court floor to receive shadows
            const court = new THREE.Mesh(new THREE.PlaneGeometry(20, 12), new THREE.ShadowMaterial({ opacity: 0.25 }));
            court.rotation.x = -Math.PI / 2;
            court.position.y = -2.01;
            court.receiveShadow = true;
            scene.add(court);

            camera.position.z = 7;
            camera.position.y = 1;

            const clock = new THREE.Clock();

            function animate() {
                requestAnimationFrame(animate);
                const elapsed = clock.getElapsedTime();

                // Shuttlecock flight path (figure-8)
                const t = elapsed * 0.8;
                shuttleGroup.position.x = Math.sin(t) * 2.5;
                shuttleGroup.position.y = Math.abs(Math.cos(t * 1.5)) * 2 - 0.5;
                shuttleGroup.position.z = Math.cos(t * 0.5) * 1;
                
                // Rotation during flight
                shuttleGroup.rotation.x += 0.15;
                shuttleGroup.rotation.z = Math.sin(t) * 0.3;

                // Racket swing timing
                const swingPhase = Math.sin(elapsed * 3);
                racketGroup.rotation.z = -0.4 + swingPhase * 0.3;
                racketGroup.position.x = -2.5 + Math.abs(swingPhase) * 0.5;

                // Dynamic lighting
                greenLight.intensity = 1.5 + Math.sin(elapsed * 3) * 0.5;

                renderer.render(scene, camera);
            }
            animate();

            new ResizeObserver(() => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, pixelRatioCap()));
            }).observe(container);
        }

        // About 3D Scene (Neural Animation)
        function initAboutScene() {
            const container = document.getElementById('about-scene');
            if (!container || !window.THREE || !window.gsap) return;

            const scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(0x090f14, 0.045);
            const camera = new THREE.PerspectiveCamera(48, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: !isSmallViewport() });

            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, pixelRatioCap()));
            renderer.outputEncoding = THREE.sRGBEncoding;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1.06;
            container.appendChild(renderer.domElement);

            const ambient = new THREE.AmbientLight(0x9edff0, 0.35);
            scene.add(ambient);

            const keyLight = new THREE.SpotLight(0xb7eeff, 1.25, 30, Math.PI / 5, 0.32, 1);
            keyLight.position.set(2.8, 5.4, 2.6);
            scene.add(keyLight);

            const fillLight = new THREE.PointLight(0x7bdfff, 0.72, 20);
            fillLight.position.set(-3.4, 1.3, 2.3);
            scene.add(fillLight);

            const warmRim = new THREE.PointLight(0xffcd85, 0.62, 16);
            warmRim.position.set(0, -1.4, 3.1);
            scene.add(warmRim);

            const neuralGroup = new THREE.Group();

            const cortexMat = new THREE.MeshPhysicalMaterial({
                color: 0xc79a87,
                roughness: 0.58,
                metalness: 0.03,
                clearcoat: 0.22,
                clearcoatRoughness: 0.64,
                emissive: 0x2d4f67,
                emissiveIntensity: 0.12
            });

            const hemiGeo = new THREE.SphereGeometry(1.0, 42, 42);
            const leftHemisphere = new THREE.Mesh(hemiGeo, cortexMat);
            leftHemisphere.scale.set(1.0, 0.78, 1.3);
            leftHemisphere.position.set(-0.52, 0.22, 0);
            neuralGroup.add(leftHemisphere);

            const rightHemisphere = new THREE.Mesh(hemiGeo, cortexMat);
            rightHemisphere.scale.set(1.0, 0.78, 1.3);
            rightHemisphere.position.set(0.52, 0.22, 0);
            neuralGroup.add(rightHemisphere);

            const callosum = new THREE.Mesh(
                new THREE.TorusGeometry(0.62, 0.06, 18, 56),
                new THREE.MeshStandardMaterial({ color: 0xdcb9ab, roughness: 0.5, metalness: 0.04 })
            );
            callosum.rotation.x = Math.PI / 2;
            callosum.position.set(0, 0.2, 0);
            neuralGroup.add(callosum);

            const stem = new THREE.Mesh(
                new THREE.CylinderGeometry(0.16, 0.27, 1.2, 26),
                new THREE.MeshStandardMaterial({ color: 0xb58b79, roughness: 0.62, metalness: 0.02 })
            );
            stem.position.set(0, -0.7, 0.08);
            stem.rotation.x = 0.22;
            neuralGroup.add(stem);

            const aura = new THREE.Mesh(
                new THREE.SphereGeometry(2.2, 30, 30),
                new THREE.MeshBasicMaterial({ color: 0x74dcff, transparent: true, opacity: 0.1 })
            );
            neuralGroup.add(aura);

            const gyri = [];
            for (let i = 0; i < 8; i++) {
                const band = new THREE.Mesh(
                    new THREE.TorusGeometry(0.44 + i * 0.055, 0.012, 8, 84),
                    new THREE.MeshStandardMaterial({
                        color: 0xd2b2a3,
                        roughness: 0.52,
                        metalness: 0.02,
                        transparent: true,
                        opacity: 0.75
                    })
                );
                band.scale.set(1.9, 0.64 + Math.sin(i) * 0.05, 1.3);
                band.rotation.x = Math.PI / 2;
                band.position.set(0, 0.14 + (i - 3.5) * 0.08, Math.sin(i * 0.8) * 0.07);
                gyri.push(band);
                neuralGroup.add(band);
            }

            const surgeryRing = new THREE.Mesh(
                new THREE.TorusGeometry(2.25, 0.03, 10, 120),
                new THREE.MeshBasicMaterial({ color: 0x8be7ff, transparent: true, opacity: 0.42 })
            );
            surgeryRing.rotation.x = Math.PI / 2.4;
            neuralGroup.add(surgeryRing);

            const nodeCount = Math.max(16, Math.floor(28 * qualityScale()));
            const nodeGeo = new THREE.SphereGeometry(0.055, 12, 12);
            const nodes = [];
            const nodePositions = [];
            for (let i = 0; i < nodeCount; i++) {
                const u = i / nodeCount;
                const theta = u * Math.PI * 2 * 2.1;
                const y = (u - 0.5) * 2.4;
                const rad = Math.sqrt(Math.max(0, 1 - (y * y) / 5.4)) * 2.0;
                const x = Math.cos(theta) * rad;
                const z = Math.sin(theta) * rad;
                const node = new THREE.Mesh(
                    nodeGeo,
                    new THREE.MeshPhysicalMaterial({
                        color: 0xb5f2ff,
                        emissive: 0x6be2ff,
                        emissiveIntensity: 0.5,
                        roughness: 0.35,
                        metalness: 0.05
                    })
                );
                node.position.set(x, y * 0.52, z);
                nodePositions.push(node.position.clone());
                nodes.push(node);
                neuralGroup.add(node);
            }

            const fiberCurves = [];
            const fiberLines = [];
            const fiberCount = Math.max(12, Math.floor(20 * qualityScale()));
            for (let i = 0; i < fiberCount; i++) {
                const a = nodePositions[i % nodePositions.length];
                const b = nodePositions[(i * 5 + 7) % nodePositions.length];
                const ctrl = a.clone().add(b).multiplyScalar(0.5);
                ctrl.y += 0.4 + Math.random() * 0.7;
                ctrl.x += (Math.random() - 0.5) * 0.4;
                ctrl.z += (Math.random() - 0.5) * 0.4;

                const curve = new THREE.QuadraticBezierCurve3(a, ctrl, b);
                const pts = curve.getPoints(26);
                const line = new THREE.Line(
                    new THREE.BufferGeometry().setFromPoints(pts),
                    new THREE.LineBasicMaterial({
                        color: i % 3 === 0 ? 0xffd08c : 0x8be7ff,
                        transparent: true,
                        opacity: 0.26
                    })
                );
                fiberCurves.push(curve);
                fiberLines.push(line);
                neuralGroup.add(line);
            }

            const pulses = [];
            const pulseCount = Math.min(10, fiberCurves.length);
            for (let i = 0; i < pulseCount; i++) {
                const pulse = new THREE.Mesh(
                    new THREE.SphereGeometry(0.045, 10, 10),
                    new THREE.MeshBasicMaterial({ color: i % 2 === 0 ? 0xffd796 : 0x9bf2ff })
                );
                pulse.userData = {
                    curveIndex: i,
                    speed: 0.08 + Math.random() * 0.18,
                    offset: Math.random()
                };
                pulses.push(pulse);
                neuralGroup.add(pulse);
            }

            const sparkCount = Math.max(18, Math.floor(40 * qualityScale()));
            const sparkGeo = new THREE.BufferGeometry();
            const sparkPos = new Float32Array(sparkCount * 3);
            for (let i = 0; i < sparkCount; i++) {
                const i3 = i * 3;
                sparkPos[i3] = (Math.random() - 0.5) * 5.2;
                sparkPos[i3 + 1] = (Math.random() - 0.5) * 2.8;
                sparkPos[i3 + 2] = (Math.random() - 0.5) * 5.2;
            }
            sparkGeo.setAttribute('position', new THREE.BufferAttribute(sparkPos, 3));
            const sparks = new THREE.Points(
                sparkGeo,
                new THREE.PointsMaterial({
                    color: 0xffd89a,
                    size: 0.045,
                    transparent: true,
                    opacity: 0.72,
                    blending: THREE.AdditiveBlending
                })
            );
            neuralGroup.add(sparks);

            scene.add(neuralGroup);

            const table = new THREE.Mesh(
                new THREE.CircleGeometry(5.8, 56),
                new THREE.MeshStandardMaterial({
                    color: 0x13252e,
                    roughness: 0.9,
                    metalness: 0.08,
                    transparent: true,
                    opacity: 0.5
                })
            );
            table.rotation.x = -Math.PI / 2;
            table.position.y = -1.62;
            scene.add(table);

            for (let i = 0; i < 4; i++) {
                const ring = new THREE.Mesh(
                    new THREE.TorusGeometry(1.5 + i * 0.55, 0.012, 8, 70),
                    new THREE.MeshBasicMaterial({
                        color: i % 2 ? 0x8be7ff : 0xffd08c,
                        transparent: true,
                        opacity: 0.18
                    })
                );
                ring.rotation.x = -Math.PI / 2;
                ring.position.y = -1.58;
                scene.add(ring);
            }

            const aboutCam = {
                x: 0.4,
                y: 0.2,
                z: 7.2,
                fov: 48,
                lookX: 0,
                lookY: 0,
                lookZ: 0
            };

            camera.position.set(aboutCam.x, aboutCam.y, aboutCam.z);
            camera.fov = aboutCam.fov;
            camera.updateProjectionMatrix();

            gsap.to(aboutCam, {
                x: -1.2,
                y: 0.55,
                z: 5.6,
                fov: 40,
                lookX: -0.25,
                lookY: 0.05,
                lookZ: 0,
                ease: 'none',
                scrollTrigger: {
                    trigger: '#about',
                    start: 'top 92%',
                    end: 'center center',
                    scrub: 1
                }
            });

            gsap.to(aboutCam, {
                x: 0.95,
                y: -0.25,
                z: 6.8,
                fov: 46,
                lookX: 0.2,
                lookY: -0.12,
                lookZ: 0.05,
                ease: 'none',
                scrollTrigger: {
                    trigger: '#about',
                    start: 'center center',
                    end: 'bottom top',
                    scrub: 1
                }
            });

            let mouseX = 0;
            let mouseY = 0;
            container.addEventListener('mousemove', (e) => {
                const rect = container.getBoundingClientRect();
                mouseX = ((e.clientX - rect.left) / rect.width) * 2 - 1;
                mouseY = -(((e.clientY - rect.top) / rect.height) * 2 - 1);
            }, { passive: true });

            const clock = new THREE.Clock();
            function animate() {
                requestAnimationFrame(animate);
                const elapsed = clock.getElapsedTime();

                const breathing = 1 + Math.sin(elapsed * 1.9) * 0.03;
                leftHemisphere.scale.set(1.0 * breathing, 0.78 * breathing, 1.3 * breathing);
                rightHemisphere.scale.set(1.0 * breathing, 0.78 * breathing, 1.3 * breathing);
                callosum.scale.setScalar(1 + Math.sin(elapsed * 2.8) * 0.04);
                aura.material.opacity = 0.08 + Math.sin(elapsed * 2.6) * 0.03;

                gyri.forEach((band, idx) => {
                    band.rotation.z = Math.sin(elapsed * 0.55 + idx * 0.5) * 0.035;
                });

                surgeryRing.rotation.z = elapsed * 0.22;
                sparks.rotation.y = elapsed * 0.16;

                nodes.forEach((node, idx) => {
                    const nPulse = 0.84 + Math.sin(elapsed * 2.7 + idx * 0.45) * 0.23;
                    node.scale.setScalar(nPulse);
                    node.material.emissiveIntensity = 0.28 + Math.abs(Math.sin(elapsed * 2 + idx * 0.3)) * 0.34;
                });

                fiberLines.forEach((line, idx) => {
                    line.material.opacity = 0.18 + Math.abs(Math.sin(elapsed * 1.8 + idx * 0.4)) * 0.24;
                });

                pulses.forEach(pulse => {
                    const curve = fiberCurves[pulse.userData.curveIndex];
                    const t = (elapsed * pulse.userData.speed + pulse.userData.offset) % 1;
                    pulse.position.copy(curve.getPoint(t));
                });

                neuralGroup.position.y = Math.sin(elapsed * 0.95) * 0.04;
                neuralGroup.rotation.y += ((mouseX * 0.5) - neuralGroup.rotation.y) * 0.05;
                neuralGroup.rotation.x += ((mouseY * 0.22) - neuralGroup.rotation.x) * 0.04;

                const driftX = Math.sin(elapsed * 0.35) * 0.08;
                const driftY = Math.cos(elapsed * 0.28) * 0.04;
                camera.position.x += ((aboutCam.x + mouseX * 0.22 + driftX) - camera.position.x) * 0.06;
                camera.position.y += ((aboutCam.y + mouseY * 0.13 + driftY) - camera.position.y) * 0.06;
                camera.position.z += (aboutCam.z - camera.position.z) * 0.06;
                smoothFov(camera, aboutCam.fov, 0.08);
                camera.lookAt(aboutCam.lookX, aboutCam.lookY, aboutCam.lookZ);

                renderer.render(scene, camera);
            }
            animate();

            new ResizeObserver(() => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, pixelRatioCap()));
            }).observe(container);
        }

        // Scroll Animations
        function initScrollAnimations(camControls, bangleGroup, scene) {
            if (!window.gsap || !window.ScrollTrigger) return;
            gsap.registerPlugin(ScrollTrigger);

            // Reveal animations (text/cards)
            gsap.utils.toArray('.reveal-up').forEach((elem, i) => {
                gsap.to(elem, {
                    opacity: 1,
                    y: 0,
                    filter: 'blur(0px)',
                    duration: 1.2,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: elem,
                        start: "top 85%",
                        toggleActions: "play none none reverse"
                    },
                    delay: elem.style.transitionDelay ? parseFloat(elem.style.transitionDelay) : 0
                });
            });

            // Section parallax for content
            gsap.utils.toArray('.cinematic-section').forEach((section, i) => {
                if (i === 0) return;
                const sectionContent = section.querySelector('.section-content');
                if (!sectionContent) return;
                gsap.from(sectionContent, {
                    y: 100,
                    opacity: 0,
                    duration: 1.5,
                    scrollTrigger: {
                        trigger: section,
                        start: "top 80%",
                        end: "top 20%",
                        scrub: 1
                    }
                });
            });

            // Cinematic camera targets per section
            const camTargets = [
                { id: 'hero',      x: 1.2,   y: 0.9,  z: 27.5, fov: 56, roll: -0.025, look: { x: 0.6,  y: 0.2, z: -10 } },
                { id: 'dogs',      x: -11.4, y: 3.6,  z: 16.7, fov: 42, roll: 0.058, look: { x: -2.4, y: 0.9, z: -12 } },
                { id: 'bangles',   x: 3.9,   y: 1.2,  z: 13.2, fov: 38, roll: -0.082, look: { x: 1.9,  y: 0.1, z: -11 } },
                { id: 'badminton', x: 8.9,   y: 1.95, z: 17.3, fov: 46, roll: 0.045, look: { x: 1.9,  y: 0.4, z: -10 } },
                { id: 'dates',     x: -4.4,  y: -1.0, z: 19.0, fov: 41, roll: -0.068, look: { x: -1.45,y: -0.2,z: -11 } },
                { id: 'about',     x: 2.8,   y: -1.3, z: 18.2, fov: 39, roll: 0.072, look: { x: 1.1,  y: -0.4,z: -10.8 } }
            ];

            camTargets.forEach(target => {
                const el = document.getElementById(target.id);
                if (!el) return;

                // Tween camera control values as the section scrolls
                gsap.to(camControls, {
                    x: target.x,
                    y: target.y,
                    z: target.z,
                    fov: target.fov,
                    roll: target.roll,
                    lookX: target.look.x,
                    lookY: target.look.y,
                    lookZ: target.look.z,
                    ease: 'power2.inOut',
                    scrollTrigger: {
                        trigger: el,
                        start: 'top center',
                        end: 'bottom center',
                        scrub: 1
                    }
                });

                // Slightly modulate the bangleGroup rotation for depth
                if (bangleGroup) {
                    gsap.to(bangleGroup.rotation, {
                        y: `+=${(Math.random() - 0.5) * 0.8}`,
                        ease: 'none',
                        scrollTrigger: {
                            trigger: el,
                            start: 'top center',
                            end: 'bottom center',
                            scrub: 1
                        }
                    });
                }
            });

            gsap.to('#bangles .section-content', {
                rotateX: 6,
                rotateY: -10,
                transformPerspective: 1100,
                transformOrigin: '50% 50%',
                ease: 'none',
                scrollTrigger: {
                    trigger: '#bangles',
                    start: 'top 85%',
                    end: 'bottom 15%',
                    scrub: 1
                }
            });

            gsap.to('#dates .section-content', {
                rotateX: -4,
                rotateY: 8,
                transformPerspective: 1100,
                transformOrigin: '50% 50%',
                ease: 'none',
                scrollTrigger: {
                    trigger: '#dates',
                    start: 'top 85%',
                    end: 'bottom 15%',
                    scrub: 1
                }
            });

            gsap.to('#about .section-content', {
                rotateX: 5,
                rotateY: -7,
                transformPerspective: 1100,
                transformOrigin: '50% 50%',
                ease: 'none',
                scrollTrigger: {
                    trigger: '#about',
                    start: 'top 85%',
                    end: 'bottom 15%',
                    scrub: 1
                }
            });
        }

        // Click effects
        document.addEventListener('click', (e) => {
            if (prefersReducedMotion) return;
            if (e.target.closest('a') || e.target.closest('.cinematic-card')) return;
            
            // Create golden sparkles
            for (let i = 0; i < sparkleCount(); i++) {
                const sparkle = document.createElement('div');
                sparkle.style.cssText = `
                    position: fixed;
                    left: ${e.clientX}px;
                    top: ${e.clientY}px;
                    width: ${4 + Math.random() * 8}px;
                    height: ${4 + Math.random() * 8}px;
                    background: ${Math.random() > 0.5 ? '#FFD700' : '#FF69B4'};
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 9999;
                    box-shadow: 0 0 10px currentColor;
                `;
                document.body.appendChild(sparkle);
                
                const angle = (Math.PI * 2 * i) / sparkleCount();
                const velocity = 80 + Math.random() * 60;
                
                gsap.to(sparkle, {
                    x: Math.cos(angle) * velocity,
                    y: Math.sin(angle) * velocity,
                    opacity: 0,
                    scale: 0,
                    duration: 1,
                    ease: "power2.out",
                    onComplete: () => sparkle.remove()
                });
            }
        });
    </script>
</body>
</html>
